console.log("[status]: page_script fired");const CN=null!=document.getElementsByClassName("css-19dbiou-HomeWrapper e1925exm1")[0],useMonaco=()=>null!=document.getElementsByClassName("css-1jwxfyp-IndicatorButton e8k12jq1")[0];let editorConfig;async function setEditor(){if(0==useMonaco())if(CN)for(let e=0;e<30;++e){const e=await new Promise(((e,o)=>{setTimeout((()=>{e(document.getElementsByClassName("css-pwvbgl-CodeAreaContainer ejldciv0")[0])}),300)}));if(null!=e&&null!=e){const o=document.querySelector(".CodeMirror").CodeMirror;if(null==o||null==o)return;o.setOption("autoCloseBrackets",editorConfig.autoCloseBrackets),o.setOption("cursorBlinkRate",editorConfig.blinkingCursor?530:0),e.style.display=editorConfig.hide?"none":"";break}}else for(let e=0;e<30;++e){const e=await new Promise(((e,o)=>{setTimeout((()=>{e(document.querySelector('[data-cy="code-area"]'))}),300)}));if(null!=e&&null!=e){const e=document.querySelector(".CodeMirror").CodeMirror;if(null==e||null==e)return;e.setOption("autoCloseBrackets",editorConfig.autoCloseBrackets),e.setOption("cursorBlinkRate",editorConfig.blinkingCursor?530:0),1==editorConfig.hide?(console.log("hide"),document.querySelector('[data-cy="code-area"]').parentElement.style.flex="0 0 1px",document.querySelector('[data-id="0"]').style.flex="1 0 0px"):(document.querySelector('[data-cy="code-area"]').parentElement.style.flex="1 0 320px",document.querySelector('[data-id="0"]').style.flex="0 1 400px");break}}}function getCMFont(){return console.log("getCMFont called"),"12px"}window.addEventListener("EDITOR_CONFIG_EVENT",(function(e){if("SET"==e.detail.action&&(editorConfig=e.detail.data.editor,setEditor()),"ENFORCE"==e.detail.action){const o=document.querySelector(".CodeMirror").CodeMirror,t=e.detail.data.editor;if(null==o||null==o)return;o.getOption("autoCloseBrackets")!=t.autoCloseBrackets&&(console.log("reset bracket"),o.setOption("autoCloseBrackets",t.autoCloseBrackets)),o.getOption("cursorBlinkRate")>0&&0==t.blinkingCursor&&(console.log("reset cursor"),o.setOption("cursorBlinkRate",0))}}),!1),window.addEventListener("EDITOR_GRAB",(function(){useMonaco()?window.postMessage({action:"EDITOR_VALUE",payout:monaco.editor.getModels()[0].getValue()}):window.postMessage({action:"EDITOR_VALUE",payout:document.querySelector(".CodeMirror").CodeMirror.getValue()})}));